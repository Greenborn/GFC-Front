<ion-header>
  <ion-toolbar>
    <ion-grid>
      <ion-row class="ion-justify-content-end">
        <ion-col size="12">
          <ion-row>
            <ion-buttons>
              <ion-back-button defaultHref="/concursos"></ion-back-button>
            </ion-buttons>
            <ion-title>Concurso</ion-title>
          </ion-row>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-row class="ion-justify-content-center">
      <ion-col size="12" size-md="10">
        <ion-card class="ion-no-margin">
          <ion-card-header>
            <ion-row>
              <ion-col>
                <ion-card-title>{{concurso.name}}</ion-card-title>
                <ion-card-subtitle
                  >Desde {{fechaInicio}} hasta {{fechaFin}}</ion-card-subtitle
                >
              </ion-col>
              <ion-col *ngIf="auth.loggedIn()" class="ion-align-self-end">
                <!-- <ion-buttons slot="end"> -->
                <ion-button class="ion-float-right" (click)="deleteConcurso()">
                  <ion-icon name="trash"></ion-icon>
                </ion-button>
                <ion-button
                  class="ion-float-right"
                  *ngIf="auth.loggedIn()"
                  [routerLink]="['/concursos/editar/'+concurso.id]"
                >
                  <ion-icon name="create"></ion-icon>
                </ion-button>
                <!-- </ion-buttons> -->
              </ion-col>
            </ion-row>
          </ion-card-header>
          <!-- <ion-img [src]="concurso.thumbnailUrl"></ion-img> -->
          <ion-card-content>
            <!-- <ion-card-title>Descripcion</ion-card-title> -->
            <ion-text>{{concurso.description}}</ion-text>
          </ion-card-content>
          <!-- <ion-label>{{item}}</ion-label> -->
        </ion-card>

        
        <!-- <app-search-bar> </app-search-bar> -->
        <ion-row class="ion-justify-content-start ion-align-items-center ion-margin-top ion-margin-bottom ">
          <h1 class="ion-margin-top ion-margin-bottom ion-margin-end">Fotograf√≠as</h1>
          <ion-fab-button size="small" 
            (click)="postImage()"
          >
          <!-- [routerLink]="['agregar-foto']"   -->
            <ion-icon name="add"></ion-icon>
          </ion-fab-button>
        </ion-row>
     
        <ion-grid >
          <ion-row class="ion-padding-end"> <!-- class="ion-text-center" -->
            <ion-col size="6" size-md="3" class="">Foto</ion-col>
            <ion-col class="ion-hide-md-down ion-padding-start" size="4">Concursante</ion-col>
            <ion-col  class="ion-text-center"  size="3" size-md="2">Premio</ion-col>
            <ion-col class="ion-hide-md-down ion-text-center" size="2">Puntaje</ion-col>
            <ion-col class="ion-hide-md-up ion-text-center" size="2">Ptje</ion-col>
            <ion-col size="1"></ion-col>
          </ion-row>
        </ion-grid>
        <ion-list>
          <ion-item class="ion-no-padding">
            <ion-grid *ngIf="!loading"> <!-- class="ion-text-center" -->
              <ion-row size="12" *ngFor="let r of contestResults">
                <ion-col size="6" size-md="3" class="ion-align-self-center">
                  <ion-card-subtitle>{{ getImage(r).code }}</ion-card-subtitle>
                  <!-- <ion-card-title >Prueba de Riendas</ion-card-title> -->
                  
                  <ion-text><b>{{ getImage(r).title }}</b></ion-text>
                </ion-col>
                <ion-col  class="ion-hide-md-down ion-text-center ion-align-self-center"  size="4">
                  <!-- <ion-text>Martin Martinez  Martinez</ion-text> -->
               <!--    TODO: componente usuario -->
                  <ion-item lines="none">
                    <!-- <app-usuario-img
                      class="ion-float-left ion-margin-end"
                     
                    ></app-usuario-img> -->

                    <!-- <ion-label class="ion-float-left"> -->
                    <ion-label>
                      <!-- <ion-card-subtitle>username</ion-card-subtitle> -->
                      <!-- <ion-card-subtitle><a [href]="'mailto:'+'@'"> lmm@gmail </a></ion-card-subtitle> -->
                      <!-- <ion-text><b>Perfil id {{ getImage(r).profile_id }}</b></ion-text> -->
                      <ion-card-subtitle>{{ getFotoclubName(r) }}</ion-card-subtitle>
                      <ion-text><b>{{ getProfile(r).name + ' ' + getProfile(r).last_name }}</b></ion-text>
                      <!-- <ion-card-subtitle>DNI 11.111.111</ion-card-subtitle> -->
                    </ion-label>

                  </ion-item>
                </ion-col>
                <ion-col  class="ion-text-center ion-align-self-center"  size="3" size-md="2">
                  <ion-text>R</ion-text>
                </ion-col>
                <ion-col  class="ion-text-center ion-align-self-center"  size="2">
                  <ion-text>-</ion-text>
                </ion-col>

                <ion-col size="1" class="ion-align-self-center">
                  <ion-buttons class="ion-hide-lg-down">
                    <ion-button>
                      <ion-icon name="create"></ion-icon>
                    </ion-button>
                    <ion-button>
                      <ion-icon name="trash"></ion-icon>
                    </ion-button>
                  </ion-buttons>
                  <ion-buttons class="ion-hide-lg-up">
                    <ion-button (click)="mostrarAcciones($event, r)">
                      <ion-icon 
                        slot="icon-only"
                        ios="ellipsis-horizontal"
                        md="ellipsis-vertical"
                      ></ion-icon>
                    </ion-button>
                  </ion-buttons>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-item>
        </ion-list>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
