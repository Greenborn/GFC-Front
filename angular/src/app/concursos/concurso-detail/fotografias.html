<ion-grid>
    <ion-row class="ion-justify-content-center">
      <!-- filtro -->
      <ion-col size="3" *ngIf="mostrarFiltro">
        <ion-col>
          <ion-title class="ion-margin-top">Búsqueda</ion-title>

          <ion-list>
            <ion-radio-group value="biff">
              <ion-list-header>
                <ion-label>Filtrar por:</ion-label>
              </ion-list-header>

              <ion-item lines="none">
                <ion-label>Nombre</ion-label>
                <ion-radio slot="start" value="nombre"></ion-radio>
              </ion-item>

              <ion-item lines="none">
                <ion-label>Código</ion-label>
                <ion-radio slot="start" value="codigo"></ion-radio>
              </ion-item>

              <ion-item lines="none">
                <ion-label>Concursante</ion-label>
                <ion-radio slot="start" value="concursante"></ion-radio>
              </ion-item>

              <ion-item lines="none" *ngIf="!isContestNotFin || !rolificador.esConcursante(u)">
                <ion-label>Fotoclub/Agrupación/Institución</ion-label>
                <ion-radio slot="start" value="fotoclub"></ion-radio>
              </ion-item>
            </ion-radio-group>
          </ion-list>

          <ion-row>
            <ion-col
              ><ion-fab-button size="small">
                <ion-icon
                  name="arrow-forward-circle"
                ></ion-icon> </ion-fab-button
            ></ion-col>
          </ion-row>

          <ion-col>
            
            <ion-list>
              <ion-list-header>
                <ion-label>Premio:</ion-label>
              </ion-list-header>
              <ion-item
                ><ion-button fill="clear" href="#"
                  >Reprobado</ion-button
                ></ion-item
              >
              <ion-item
                ><ion-button fill="clear" href="#"
                  >Aprobado</ion-button
                ></ion-item
              >
              <ion-item>
                <ion-button fill="clear" href="#">Mención</ion-button></ion-item
              >
              <ion-item>
                <ion-button fill="clear" href="#"
                  >Medalla Oro</ion-button
                ></ion-item
              >
              <ion-item>
                <ion-button fill="clear" href="#"
                  >Medalla Plata</ion-button
                ></ion-item
              >
              <ion-item>
                <ion-button fill="clear" href="#"
                  >Medalla Bronce</ion-button
                ></ion-item
              >
            </ion-list>
          </ion-col>
        </ion-col>
      </ion-col>

      <ion-col>
        <ion-row>
          <ion-col size="11.5" push="0.25">
            <ion-row
              class="
                ion-justify-content-start
                ion-align-items-center
                ion-margin-top
                ion-margin-bottom
              "
            >
              <h1 class="ion-margin-top ion-margin-bottom ion-margin-end">
                Fotografías
              </h1>
              <ion-fab-button size="small" (click)="postImage()">
                <ion-icon name="add"></ion-icon>
              </ion-fab-button>
            </ion-row>

            <ion-row class="ion-align-items-center">
              <ion-col size="11"
                ><app-search-bar [atributos]="['Titulo', 'Codigo']">
                </app-search-bar
              ></ion-col>
              <ion-col size="1">
                <ion-button (click)="toggleFiltro()" color="medium">
                  <ion-icon name="funnel"></ion-icon>
                </ion-button></ion-col
              >
            </ion-row>
            <ion-grid>
              <ion-row class="ion-padding-end">
                <ion-col size="6" size-md="3" class="">Obra</ion-col>
                <ion-col
                  class="ion-hide-md-down ion-padding-start"
                  size="4"
                  size-md="3"
                  >Autor</ion-col
                >
                <ion-col class="ion-text-center" size="3" size-md="2"
                  >Premio</ion-col
                >

                <ion-col size="2"></ion-col>
              </ion-row>
            </ion-grid>
            <ion-list>
              <ion-item class="ion-no-padding">
                <ion-grid *ngIf="resultadosConcurso.length > 0; else texto">

                  <ion-row size="12" *ngFor="let r of resultadosConcurso">
                    <ion-col size="6" size-md="3" class="ion-align-self-center">
                      <ion-card-subtitle title="Código de la obra"
                      >{{ r.image.code }}</ion-card-subtitle>

                      <ion-text title="Nombre de la obra"
                      ><b>{{ r.image.title }}</b></ion-text>
                      
                    </ion-col>
                    <ion-col
                      class="
                        ion-hide-md-down ion-text-center ion-align-self-center
                      "
                      size="4"
                      size-md="3"
                    >
                      <ion-item lines="none">
                        <ion-label>
                          <ion-card-subtitle title="Fotoclub/Agrupación del autor"
                          >{{ getFotoclubName(r.image.profile_id) }}</ion-card-subtitle>
                          
                          <ion-text title="Autor de la obra">
                            <b>{{ getFullName(r.image.profile_id) }}</b>
                          </ion-text>
                          
                        </ion-label>
                      </ion-item>
                    </ion-col>
                    <ion-col
                      class="ion-text-center ion-align-self-center"
                      size="3"
                      size-md="2"
                    >
                      <ion-text>{{ r.metric.prize }}</ion-text>
                    </ion-col>
                    

                    <ion-col size="1" size-md="2" class="ion-align-self-center">
                      <ion-buttons
                        class="ion-hide-lg-down ion-justify-content-end"
                      >
                        <ion-button (click)="reviewImage(r)">
                          <ion-icon name="star-outline"></ion-icon>
                        </ion-button>
                        <ion-button (click)="postImage(r.image)">
                          <ion-icon name="create"></ion-icon>
                        </ion-button>
                        <ion-button (click)="deleteImage(r.image_id, r.id, r.metric_id)">
                          <ion-icon name="trash"></ion-icon>
                        </ion-button>
                      </ion-buttons>
                      <ion-buttons class="ion-hide-lg-up">
                        <ion-button (click)="mostrarAcciones($event, r)">
                          <ion-icon
                            slot="icon-only"
                            ios="ellipsis-horizontal"
                            md="ellipsis-vertical"
                          ></ion-icon>
                        </ion-button>
                      </ion-buttons>
                    </ion-col>
                  </ion-row>
                </ion-grid>
                <ng-template #texto>No hay fotografias</ng-template>
              </ion-item>
            </ion-list>
          </ion-col>
        </ion-row>
      </ion-col>
    </ion-row>
  </ion-grid>
