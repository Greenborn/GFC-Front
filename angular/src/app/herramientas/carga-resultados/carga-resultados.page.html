<ion-header>
  <ion-toolbar>
    <ion-title>Carga de Resultados</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content class="ion-padding">
  <ion-grid>
    <ion-row>
      <ion-col size="12" size-md="6">
        <h5>Estructura de archivos y directorios:</h5>
        <ng-container *ngIf="estructura && estructura.trim().length > 0; else errorEstructura">
          <pre style="white-space: pre-wrap; font-size: 14px; background: #f8f8f8; padding: 12px; border-radius: 6px;">{{ estructura }}</pre>
        </ng-container>
        <ng-template #errorEstructura>
          <ion-card color="danger">
            <ion-card-content>
              Error: No se pudo procesar el archivo o está vacío.
            </ion-card-content>
          </ion-card>
        </ng-template>
        <ion-button expand="block" color="primary" (click)="volver()" class="ion-margin-top">Volver</ion-button>
      </ion-col>
      <ion-col size="12" size-md="6">
        <!-- Segunda columna: log de validaciones -->
        <ion-card *ngIf="exportacionValida" color="success">
          <ion-card-content>
            Validación correcta: existe el directorio <b>exportacion</b>
          </ion-card-content>
        </ion-card>
        <ion-card *ngIf="!exportacionValida" color="warning">
          <ion-card-content>
            no existe directorio exportacion
          </ion-card-content>
        </ion-card>
        <ng-container *ngIf="exportacionValida && validacionesCategorias.length > 0">
          <ion-card *ngFor="let val of validacionesCategorias" [color]="val.color">
            <ion-card-content>
              {{ val.mensaje }}
            </ion-card-content>
          </ion-card>
        </ng-container>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content> 